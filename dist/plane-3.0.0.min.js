/*!
 * C37 in 23-06-2014 at 16:48:54 
 *
 * plane version: 3.0.0
 * licensed by Creative Commons Attribution-ShareAlike 3.0
 *
 * Copyright - C37 http://c37.co - 2014
 */
!function(a){"use strict";var b,c;!function(){var a={},d={};b=function(b,c,d){a[b]={deps:c,callback:d}},c=function(b){if(d[b])return d[b];d[b]={};var e=a[b];if(!e)throw new Error("Module '"+b+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)i.push("require"===g[j]?c:"exports"===g[j]?f={}:c(g[j]));var l=h.apply(this,i);return d[b]=f||l}}(),b("geometric/bÃ©zier",["require","exports"],function(){}),b("geometric/group",["require","exports"],function(){}),b("geometric/intersection",["require","exports"],function(a,b){function c(a,b){var c=a[0]*b[1]-b[0]*a[1],d=a[0]*b[2]-b[0]*a[2],e=a[0]*b[3]-b[0]*a[3],f=a[0]*b[4]-b[0]*a[4],g=a[0]*b[5]-b[0]*a[5],h=a[1]*b[2]-b[1]*a[2],j=a[1]*b[4]-b[1]*a[4],k=a[1]*b[5]-b[1]*a[5],l=a[2]*b[3]-b[2]*a[3],m=a[3]*b[4]-b[3]*a[4],n=a[3]*b[5]-b[3]*a[5],o=k+m,p=j-l;return new i(c*h-d*d,c*p+e*h-2*d*f,c*o+e*p-f*f-2*d*g,c*n+e*o-2*f*g,e*n-g*g)}function d(a,b,c,d){var e,f=(d.x-c.x)*(d.x-c.x)+(d.y-c.y)*(d.y-c.y),g=2*((d.x-c.x)*(c.x-a.x)+(d.y-c.y)*(c.y-a.y)),h=a.x*a.x+a.y*a.y+c.x*c.x+c.y*c.y-2*(a.x*c.x+a.y*c.y)-b*b,i=g*g-4*f*h;if(0>i)e=!1;else if(0==i)e=!1;else{var j=Math.sqrt(i),k=(-g+j)/(2*f),l=(-g-j)/(2*f);e=(0>k||k>1)&&(0>l||l>1)?0>k&&0>l||k>1&&l>1?!1:!1:!0}return e}function e(a,b,c,d,e){var f=Point.Create(c.x+e,c.y),g=Point.Create(c.x+e,c.y+d),h=Point.Create(c.x,c.y+d),i=Point.Create(c.x,c.y),j=this.circleLine(a,b,f,g),k=this.circleLine(a,b,g,h),l=this.circleLine(a,b,h,i),m=this.circleLine(a,b,i,f);return j||k||l||m}function f(a,b,c,d){var e,f=b+d,g=Math.abs(b-d),h=a.distanceTo(c);if(h>f)e=!1;else if(g>h)e=!1;else{e={points:[]};var i=(b*b-d*d+h*h)/(2*h),j=Math.sqrt(b*b-i*i),k=a.interpolationLinear(c,i/h),l=j/h;e.points.push(Point.Create(k.x-l*(c.y-a.y),k.y+l*(c.x-a.x))),e.points.push(Point.Create(k.x+l*(c.y-a.y),k.y-l*(c.x-a.x)))}return e}function g(a,b,c,d,e,f,g){var h=this.circleCircle(a,b,c,d);if(h.points)for(var i=e/360*2*Math.PI,j=f/360*2*Math.PI,k=i>j?(i-j)/2:(j-i)/2,l=Point.Create(c.x+Math.cos(i)*d,c.y+Math.sin(i)*d),m=Point.Create(c.x+Math.cos(j)*d,c.y+Math.sin(j)*d),n=Point.Create(c.x+Math.cos(k)*d,g?c.y-Math.sin(k)*d:c.y+Math.sin(k)*d),o=(Math.PI+Math.PI,0);o<=h.points.length-1;o++){var p=h.points[o].distanceTo(c),q=d;if(p>=q-4&&q+4>=p){var r=c.angleTo(l),s=c.angleTo(n),t=c.angleTo(m),u=c.angleTo(h.points[o]);if(s>=r&&t>=s)return g?u>=r&&t>=u?!0:!1:u>=r&&t>=u?!1:!0;if(s>=t&&r>=s)return g?u>=t&&r>=u?!0:!1:u>=t&&r>=u?!1:!0;if(s>=r&&s>=t){if(t>r)return g?u>r&&t>u?!1:!0:u>r&&t>u?!0:!1;if(r>t)return u>t&&r>u?!1:!0}else if(r>=s&&t>=s){if(t>r)return g?u>r&&t>u?!1:!0:u>r&&t>u?!0:!1;if(r>t)return u>t&&r>u?!1:!0}}return!1}return!1}function h(a,b,d,e,f,g){for(var h=[b*b,0,d*d,-2*b*b*a.x,-2*d*d*a.y,b*b*a.x*a.x+d*d*a.y*a.y-d*d*b*b],i=[f*f,0,g*g,-2*f*f*e.x,-2*g*g*e.y,f*f*e.x*e.x+g*g*e.y*e.y-g*g*f*f],j=c(h,i),k=j.getRoots(),l=.001,m=(h[0]*h[0]+2*h[1]*h[1]+h[2]*h[2])*l,n=(i[0]*i[0]+2*i[1]*i[1]+i[2]*i[2])*l,o=0;o<k.length;o++)for(var p=new utility.geometry.polynomial(h[0],h[3]+k[o]*h[1],h[5]+k[o]*(h[4]+k[o]*h[2])),q=p.getRoots(),r=0;r<q.length;r++){var s=(h[0]*q[r]+h[1]*k[o]+h[3])*q[r]+(h[2]*k[o]+h[4])*k[o]+h[5];if(Math.abs(s)<m&&(s=(i[0]*q[r]+i[1]*k[o]+i[3])*q[r]+(i[2]*k[o]+i[4])*k[o]+i[5],Math.abs(s)<n))return!0}return!1}var i=a("geometric/polynomial").Polynomial;b.CircleLine=d,b.CircleRectangle=e,b.CircleCircle=f,b.CircleArc=g,b.CircleEllipse=h}),b("geometric/point",["require","exports"],function(a,b){function c(a,b){this.x=a,this.y=b}function d(a,b){return new c(a,b)}c.prototype={Operations:{Sum:function(a){return new c(this.x+a.x,this.y+a.y)},Subtract:function(a){return new c(this.x-a.x,this.y-a.y)}},Measures:{DistanceTo:function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},MidTo:function(a){return new c(this.x+(a.x-this.x)/2,this.y+(a.y-this.y)/2)},AngleTo:function(a){return Math.atan2(a.y-this.y,a.x-this.x)}},Functions:{InterpolationLinear:function(a,b){return new c(this.x+(a.x-this.x)*b,this.y+(a.y-this.y)*b)}}},b.Create=d}),b("geometric/polynomial",["require","exports"],function(a,b){function c(){this.init(arguments)}c.prototype.init=function(a){this.coefs=new Array;for(var b=a.length-1;b>=0;b--)this.coefs.push(a[b]);this._variable="t",this._s=0},c.prototype.simplify=function(){for(var a=this.getDegree();a>=0&&Math.abs(this.coefs[a])<=c.TOLERANCE;a--)this.coefs.pop()},c.prototype.getDegree=function(){return this.coefs.length-1},c.prototype.getLinearRoot=function(){var a=new Array,b=this.coefs[1];return 0!=b&&a.push(-this.coefs[0]/b),a},c.prototype.getQuadraticRoots=function(){var a=new Array;if(2==this.getDegree()){var b=this.coefs[2],c=this.coefs[1]/b,d=this.coefs[0]/b,e=c*c-4*d;if(e>0){var f=Math.sqrt(e);a.push(.5*(-c+f)),a.push(.5*(-c-f))}else 0==e&&a.push(.5*-c)}return a},c.prototype.getCubicRoots=function(){var a=new Array;if(3==this.getDegree()){var b=this.coefs[3],d=this.coefs[2]/b,e=this.coefs[1]/b,f=this.coefs[0]/b,g=(3*e-d*d)/3,h=(2*d*d*d-9*e*d+27*f)/27,i=d/3,j=h*h/4+g*g*g/27,k=h/2;if(Math.abs(j)<=c.TOLERANCE&&(j=0),j>0){var l,m,n=Math.sqrt(j);l=-k+n,m=l>=0?Math.pow(l,1/3):-Math.pow(-l,1/3),l=-k-n,l>=0?m+=Math.pow(l,1/3):m-=Math.pow(-l,1/3),a.push(m-i)}else if(0>j){var o=Math.sqrt(-g/3),p=Math.atan2(Math.sqrt(-j),-k)/3,q=Math.cos(p),r=Math.sin(p),s=Math.sqrt(3);a.push(2*o*q-i),a.push(-o*(q+s*r)-i),a.push(-o*(q-s*r)-i)}else{var l;l=k>=0?-Math.pow(k,1/3):Math.pow(-k,1/3),a.push(2*l-i),a.push(-l-i)}}return a},c.prototype.getQuarticRoots=function(){var a=new Array;if(4==this.getDegree()){var b=this.coefs[4],d=this.coefs[3]/b,e=this.coefs[2]/b,f=this.coefs[1]/b,g=this.coefs[0]/b,h=new c(1,-e,d*f-4*g,-d*d*g+4*e*g-f*f).getCubicRoots(),i=h[0],j=d*d/4-e+i;if(Math.abs(j)<=c.TOLERANCE&&(j=0),j>0){var k=Math.sqrt(j),l=3*d*d/4-k*k-2*e,m=(4*d*e-8*f-d*d*d)/(4*k),n=l+m,o=l-m;if(Math.abs(n)<=c.TOLERANCE&&(n=0),Math.abs(o)<=c.TOLERANCE&&(o=0),n>=0){var p=Math.sqrt(n);a.push(-d/4+(k+p)/2),a.push(-d/4+(k-p)/2)}if(o>=0){var p=Math.sqrt(o);a.push(-d/4+(p-k)/2),a.push(-d/4-(p+k)/2)}}else if(0>j);else{var m=i*i-4*g;if(m>=-c.TOLERANCE){if(0>m&&(m=0),m=2*Math.sqrt(m),l=3*d*d/4-2*e,l+m>=c.TOLERANCE){var q=Math.sqrt(l+m);a.push(-d/4+q/2),a.push(-d/4-q/2)}if(l-m>=c.TOLERANCE){var q=Math.sqrt(l-m);a.push(-d/4+q/2),a.push(-d/4-q/2)}}}}return a},c.prototype.getRoots=function(){var a;switch(this.simplify(),this.getDegree()){case 0:a=new Array;break;case 1:a=this.getLinearRoot();break;case 2:a=this.getQuadraticRoots();break;case 3:a=this.getCubicRoots();break;case 4:a=this.getQuarticRoots();break;default:a=new Array}return a},b.Polynomial=c}),b("geometric/shape",["require","exports"],function(a,b){function c(a,b,c,d,e){this.uuid=a,this.name=b,this.locked=c,this.visible=d,this.selected=e}function d(a){this.type="arc",this.point=a.point,this.radius=a.radius,this.startAngle=a.startAngle,this.endAngle=a.endAngle,this.clockWise=a.clockWise,c.call(this,a.uuid,a.name,a.locked,a.visible,a.selected)}function e(a){this.type="circle",this.point=a.point,this.radius=a.radius,c.call(this,a.uuid,a.name,a.locked,a.visible,a.selected)}function f(a){this.type="ellipse",this.point=a.point,this.radiusY=a.radiusY,this.radiusX=a.radiusX,c.call(this,a.uuid,a.name,a.locked,a.visible,a.selected)}function g(a){this.type="line",this.points=a.points,this.style=a.style,c.call(this,a.uuid,a.name,a.locked,a.visible,a.selected)}function h(a){this.type="polygon",this.points=a.points,this.sides=a.sides,c.call(this,a.uuid,a.name,a.locked,a.visible,a.selected)}function i(a){this.type="rectangle",this.point=a.point,this.height=a.height,this.width=a.width,c.call(this,a.uuid,a.name,a.locked,a.visible,a.selected)}function j(a,b,c,j,l,m,n,o,p,q,r,s,t,u){var v={uuid:a,name:"Shape ".concat(a),style:l,locked:!1,visible:!0,selected:!1};switch(b){case"line":return v.points=[k.Create(c[0],c[1]),k.Create(j[0],j[1])],new g(v);case"rectangle":return v.point=k.Create(c,j),v.height=r,v.width=s,new i(v);case"arc":return v.point=k.Create(c,j),v.radius=m,v.startAngle=n,v.endAngle=o,v.clockWise=p,new d(v);case"circle":return v.point=k.Create(c,j),v.radius=m,new e(v);case"ellipse":return v.point=k.Create(c,j),v.radiusY=t,v.radiusX=u,new f(v);case"polygon":v.points=[],v.sides=q;for(var w=0;q>w;w++){var x=m*Math.cos(2*Math.PI/q*w)+c,y=m*Math.sin(2*Math.PI/q*w)+j;v.points.push(k.Create(x,y))}return new h(v)}}var k=a("geometric/point");c.prototype={rotate:function(){return!0},get Scale(){return this._scale||[1,1]},set Scale(a){this.points.forEach(function(b){b.x*=a[0],b.y*=a[1]}),this._scale=a},move:function(){return!0},contains:function(){return!1},render:function(a){switch(this.type){case"arc":return a.translate(this.point.x,this.point.y),a.arc(0,0,this.radius,Math.PI/180*this.startAngle,Math.PI/180*this.endAngle,this.clockWise),!0;case"circle":return a.translate(this.point.x,this.point.y),a.arc(0,0,this.radius,0,2*Math.PI,!0),!0;case"ellipse":return a.translate(this.point.x,this.point.y),a.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI),!0;case"line":return a.lineWidth=this.style&&this.style.lineWidth?this.style.lineWidth:a.lineWidth,a.strokeStyle=this.style&&this.style.lineColor?this.style.lineColor:a.strokeStyle,a.moveTo(this.points[0].x,this.points[0].y),a.lineTo(this.points[1].x,this.points[1].y),!0;case"polygon":return a.moveTo(this.points[0].x,this.points[0].y),this.points.forEach(function(b){a.lineTo(b.x,b.y)}),a.closePath(),!0;case"rectangle":return a.translate(this.point.x,this.point.y),a.strokeRect(0,0,this.width,this.height),!0}},toJson:function(){return JSON.stringify(this)}},d.prototype=c.prototype,e.prototype=c.prototype,f.prototype=c.prototype,g.prototype=c.prototype,h.prototype=c.prototype,i.prototype=c.prototype,b.Create=j}),b("plane",["require","exports"],function(a,b){function c(a,b,c,d){if(a){m.Layer.Create({System:!0});for(var e=0;c>=e;e+=10)m.Shape.Create({type:"line",x:[e,0],y:[e,b],style:{lineColor:d,lineWidth:e%50==0?.6:.3}});for(var f=0;b>=f;f+=10)m.Shape.Create({type:"line",x:[0,f],y:[c,f],style:{lineColor:d,lineWidth:f%50==0?.6:.3}});m.Update()}}var d=a("utility/types"),e=a("utility/import"),f=new d.Data.Dictionary,g=(new d.Data.Dictionary,a("structure/layer")),h=a("geometric/shape"),i=a("structure/tools"),j=null,k=null,l=null,m=d.Object.Extend(new d.Object.Event,{Initialize:function(a){if(null==a)throw new Error("Plane - Initialize - Config is not valid \n http://requirejs.org/docs/errors.html#errorCode");if("function"==typeof a)throw new Error("Plane - Initialize - Config is not valid \n http://requirejs.org/docs/errors.html#errorCode");if(null==a.ViewPort)throw new Error("Plane - Initialize - Config is not valid \n http://requirejs.org/docs/errors.html#errorCode");return k=a.ViewPort,l=d.Object.Merge({metricSystem:"mm",backgroundColor:"rgb(255, 255, 255)",gridEnable:!0,gridColor:"rgb(218, 222, 215)"},a.Settings||{}),k.onmousemove=function(a){i.Event.notify("onMouseMove",a)},k.onclick=function(a){i.Event.notify("onClick",a)},c(l.gridEnable,k.clientHeight,k.clientWidth,l.gridColor,1),!0},Update:function(){var a=j.Style,b=j.Shapes.List(),c=j.Render,d=c.getContext("2d");return d.clearRect(0,0,k.clientWidth,k.clientHeight),d.lineCap=a.lineCap,d.lineJoin=a.lineJoin,b.forEach(function(a){d.save(),d.beginPath(),a.render(d),d.stroke(),d.restore()}),!0},Layer:d.Object.Extend(new d.Object.Event,{Create:function(a){a=d.Object.Union(a,{ViewPort:k,count:f.Count(),backgroundColor:l.backgroundColor});var b=g.Create(a);f.Add(b.uuid,b),j=b},List:function(a){var b=f.List().filter(function(b){return a?b:!b.System});return b},Delete:function(){},get Active(){return j||{}},set Active(a){this.notify("onDeactive",{type:"onDeactive",layer:j}),j=f.Find(a),this.notify("onActive",{type:"onActive",layer:j})}}),Shape:{Create:function(a){if("function"==typeof a||null==a)throw new Error("Shape - Create - Attrs is not valid \n http://requirejs.org/docs/errors.html#errorCode");if(-1==["polygon","rectangle","line","arc","circle","ellipse"].indexOf(a.type.toLowerCase()))throw new Error("Shape - Create - Type is not valid \n http://requirejs.org/docs/errors.html#errorCode");if(void 0==a.x||void 0==a.y)throw new Error("Shape - Create - X and Y is not valid \n http://requirejs.org/docs/errors.html#errorCode");a=d.Object.Merge({uuid:d.Math.Uuid(9,16)},a);var b=h.Create(a.uuid,a.type,a.x,a.y,a.style,a.radius,a.startAngle,a.endAngle,a.clockWise,a.sides,a.height,a.width,a.radiusY,a.radiusX);return j.Shapes.Add(b.uuid,b),!0}},Import:{FromJson:null,FromSvg:null,FromDxf:function(a){try{var b=e.FromDxf(a),c=JSON.parse(b.replace(/u,/g,"").replace(/undefined,/g,""));if(b){m.Layer.Create();for(var d in c)m.Shape.Create(c[d]);m.Update()}}catch(f){alert(f)}},FromDwg:null},get Zoom(){return this._zoom||1},set Zoom(a){c(l.gridEnable,k.clientHeight,k.clientWidth,l.gridColor,a);var b=m.Layer.Active;m.Layer.List().forEach(function(b){m.Layer.Active=b.uuid,m.Layer.Active.Shapes.List().forEach(function(b){b.Scale=[a,a]}),m.Update()}),m.Layer.Active=b.Uuid,this._zoom=a}});b.PlaneApi=m}),b("structure/layer",["require","exports"],function(a,b){function c(a){this.Uuid=a.Uuid,this.Name=a.Name,this.Locked=a.Locked,this.Visible=a.Visible,this.System=a.System,this.Style=a.Style,this.Render=a.Render,this.Shapes=a.Shapes,e.Object.Event.call(this)}function d(a){if("function"==typeof a)throw new Error("Layer - Create - Attrs is not valid \n http://requirejs.org/docs/errors.html#errorCode");var b=e.Math.Uuid(9,16),d=document.createElement("canvas");d.width=a.ViewPort.clientWidth,d.height=a.ViewPort.clientHeight,d.style.position="absolute",d.style.backgroundColor=0==a.count?a.backgroundColor:"transparent";var f=d.getContext("2d");f.translate(0,d.height),f.scale(1,-1),a=e.Object.Merge({Uuid:b,Name:"New Layer "+a.count,Style:{fillColor:"rgb(0,0,0)",lineCap:"butt",lineJoin:"miter",lineWidth:.7,lineColor:"rgb(0, 0, 0)"},Locked:!1,Visible:!0,System:!1,Shapes:new e.Data.Dictionary,Render:d},a);var g=new c(a);return a.ViewPort.appendChild(g.Render),g}var e=a("utility/types");c.prototype=e.Object.Event.prototype,c.prototype.ToJson=function(){return JSON.stringify(this).replace(/_/g,"")},b.Create=d}),b("structure/tools",["require","exports"],function(a,b){function c(a){this.uuid=a.uuid,this.name=a.name,this.__defineGetter__("active",function(){return this._active||!1}),this.__defineSetter__("active",function(a){this.notify(a?"onActive":"onDeactive",{type:a?"onActive":"onDeactive",now:(new Date).toISOString()}),this._active=a}),utility.object.event.call(this)}var d=a("utility/types"),e=new d.Data.Dictionary;c.prototype=d.Object.Event.prototype;d.Object.Extend(new d.Object.Event,{Create:function(a){if("function"==typeof a)throw new Error("Tool - Create - Attrs is not valid \n http://requirejs.org/docs/errors.html#errorCode");a=d.Object.Merge({uuid:d.Math.Uuid(9,16),name:"Tool ".concat(e.count())},a);var b=c.Create(a.uuid,a.name);return toolStore.add(a.uuid,b),!0}});b.Event=new d.Object.Event}),b("utility/export",["require","exports"],function(a,b){function c(){return!0}function d(){return!0}function e(){return!0}function f(){return!0}function g(){return!0}b.ToJson=c,b.ToSvg=d,b.ToDxf=e,b.ToPng=f,b.ToPdf=g}),b("utility/import",["require","exports"],function(a,b){function c(a){function b(a){switch(a.type){case"LINE":var b='{ "type": "line", "x": [{0}, {1}], "y": [{2}, {3}] }';return b.format(a.x,a.y,a.x1,a.y1);case"CIRCLE":var c='{ "type": "circle", "x": {0}, "y": {1}, "radius": {2} }';return c.format(a.x,a.y,a.r);case"ARC":var d='{"type": "arc", "x": {0}, "y": {1}, "radius": {2},"startAngle": {3}, "endAngle": {4}, "clockWise": {5} }';return d.format(a.x,a.y,a.r,a.a0,a.a1,!1);case"ELLIPSE":var e='{"type": "ellipse", "x": {0}, "y": {1}, "radiusY": {2},"radiusX": {3} }',f=Math.abs(a.x1),g=f*a.r;return e.format(a.x,a.y,g,f)}}String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}),String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});var c={0:"entityType",2:"blockName",10:"x",11:"x1",20:"y",21:"y1",40:"r",50:"a0",51:"a1"},d=["LINE","CIRCLE","ARC","ELLIPSE"],e=0,f=null,g=!1,h={},i="[";return a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a.split("\n").forEach(function(a){if(a=a.trim(),e++%2===0)f=parseInt(a);else{var j=a,k=c[f];"blockName"===k&&"ENTITIES"===j?g=!0:g&&("entityType"===k?(h.type&&(i+="["==i.substring(i.length-1,i.length)?"":",",i+=b(h)),h=d.indexOf(j)>-1?{type:j}:{},"ENDSEC"===j&&(g=!1)):h.type&&"undefined"!=typeof k&&(h[k]=parseFloat(j)))}}),i+="]"}function d(){return!0}function e(){return!0}function f(){return!0}b.FromDxf=c,b.FromDwg=d,b.FromJson=e,b.FromSvg=f}),b("utility/types",["require","exports"],function(a,b){var c={Uuid:function(a,b){var c,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(b=b||d.length,a)for(c=0;a>c;c++)e[c]=d[0|Math.random()*b];else{var f;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",c=0;36>c;c++)e[c]||(f=0|16*Math.random(),e[c]=d[19==c?3&f|8:f])}return e.join("").toLowerCase()}},d={Format:function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})},Contains:function(){return-1!==d.prototype.indexOf.apply(this,arguments)}},e={MousePosition:function(a,b){var c=a.getBoundingClientRect(),d=(b.x-c.left)*(a.clientWidth/c.width),e=(b.y-c.top)*(a.clientHeight/c.height);return e=-1*(e-a.clientHeight),{x:d,y:e}}},f={Dictionary:function(){function a(){this.store=new Array}return a.prototype={Add:function(a,b){this.store[a]=b},Find:function(a){return this.store[a]},Remove:function(a){delete this.store[a]},Count:function(){return Object.keys(this.store).length},List:function(){var a=this;return Object.keys(this.store).map(function(b){return a.store[b]})}},a}()},g={Extend:function(a,b){for(var c in b)Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c));return a},Merge:function(a,b){for(var c in b)a.hasOwnProperty[c]||(a[c]=b[c]);return a},Restrict:function(a,b){for(var c in a)c in b||delete a[c];return a},Subtract:function(a,b){for(var c in b)delete a[c];return a},Union:function(a,b){return g.Extend(g.Extend({},a),b)},Intersection:function(a,b){return Restrict(extend({},a),b)},Keys:function(a){if("object"!=typeof a)throw TypeError();var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},Event:function(){function a(){this.listeners={}}return a.prototype.listen=function(a,b){void 0===this.listeners[a]&&(this.listeners[a]=[]),this.listeners[a].push(b)},a.prototype.notify=function(a,b){if(void 0!==this.listeners[a])for(var c in this.listeners[a])this.listeners[a][c].call(this,b)},a.prototype.unlisten=function(a,b){if(void 0!==this.listeners[a]){var c=this.listeners[a].indexOf(b);-1!==c&&this.listeners[a].splice(c,1)}},a}()};b.Math=c,b.String=d,b.Graphic=e,b.Data=f,b.Object=g}),a.Plane=c("plane").PlaneApi}(window);